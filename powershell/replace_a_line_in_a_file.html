<!doctype html>
<html lang='en'>
<head>
<meta charset='utf-8' name='viewport' content='width=device-width, initial-scale=1.0'>
<title>{{title}}</title>
<script type="text/javascript" src="/today-i-learned/script.js" defer></script>
</head>
<body>
<link rel="stylesheet" type="text/css" href="/today-i-learned/style.css">
<header>
<div class='nav'><a href='/today-i-learned'>TIL</a></div>
</header>
<div id='breadcrumb' class='breadcrumb'>*</div>
<article>
<h1 id="replace-a-line-in-a-file">Replace a line in a file</h1>
<p>This is a common admin task. You might need to replace the publishing date, or the copyright year, or the author's name or some other piece of information. How to replace it... Like so:</p>
<pre><code>$targetFile = 'FileName.ps1'
$regex = '^This is the old line$&quot;' 
$with = &quot;This is the new line&quot;
(Get-Content $targetFile) -replace $regex, $hashyLine | Set-Content $targetFile
</code></pre>
<p>Unexplored edge cases... what happens to the encoding? What if you want to replace one thing many times on a single line? What if it's not the whole line, etc. What if you only want to do the replace on the first match, or on the last match?</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="../chocolatey/specify_checksum_for_chocolatey.html">Giving Chocolatey a Checksum when creating a package</a></li>
</ul>

</article>
</body>
</html>